<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>1 R Basics | Generalized Linear Mixed Models with R: A tutorial</title>
  <meta name="description" content="1 R Basics | Generalized Linear Mixed Models with R: A tutorial" />
  <meta name="generator" content="bookdown 0.46 and GitBook 2.6.7" />

  <meta property="og:title" content="1 R Basics | Generalized Linear Mixed Models with R: A tutorial" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="1 R Basics | Generalized Linear Mixed Models with R: A tutorial" />
  
  
  

<meta name="author" content="Rick Hass" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="ordinary-linear-regression.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Overview</a></li>
<li class="chapter" data-level="1" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i><b>1</b> R Basics</a>
<ul>
<li class="chapter" data-level="1.1" data-path="r-basics.html"><a href="r-basics.html#what-is-coding"><i class="fa fa-check"></i><b>1.1</b> What is “coding”</a></li>
<li class="chapter" data-level="1.2" data-path="r-basics.html"><a href="r-basics.html#r-console-versus-the-rstudio-script"><i class="fa fa-check"></i><b>1.2</b> R Console versus the RStudio Script</a></li>
<li class="chapter" data-level="1.3" data-path="r-basics.html"><a href="r-basics.html#working-with-data"><i class="fa fa-check"></i><b>1.3</b> Working with data</a></li>
<li class="chapter" data-level="1.4" data-path="r-basics.html"><a href="r-basics.html#using-a-script-to-generate-data-and-computing-the-mean-and-standard-deviation"><i class="fa fa-check"></i><b>1.4</b> Using a script to generate data, and computing the mean and standard deviation</a></li>
<li class="chapter" data-level="1.5" data-path="r-basics.html"><a href="r-basics.html#importing-data"><i class="fa fa-check"></i><b>1.5</b> Importing Data</a></li>
<li class="chapter" data-level="1.6" data-path="r-basics.html"><a href="r-basics.html#reading-in-an-spss-file"><i class="fa fa-check"></i><b>1.6</b> Reading in an SPSS file</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="r-basics.html"><a href="r-basics.html#a-quick-note-on-indexing"><i class="fa fa-check"></i><b>1.6.1</b> A quick note on indexing</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="r-basics.html"><a href="r-basics.html#frequencies-and-contingency-tables"><i class="fa fa-check"></i><b>1.7</b> Frequencies and Contingency Tables</a></li>
<li class="chapter" data-level="1.8" data-path="r-basics.html"><a href="r-basics.html#descriptive-statistics"><i class="fa fa-check"></i><b>1.8</b> Descriptive statistics</a>
<ul>
<li class="chapter" data-level="1.8.1" data-path="r-basics.html"><a href="r-basics.html#the-describe-function"><i class="fa fa-check"></i><b>1.8.1</b> The describe function</a></li>
<li class="chapter" data-level="1.8.2" data-path="r-basics.html"><a href="r-basics.html#the-describeby-function"><i class="fa fa-check"></i><b>1.8.2</b> The describeBy function</a></li>
<li class="chapter" data-level="1.8.3" data-path="r-basics.html"><a href="r-basics.html#computing-a-new-variable-and-adding-it-to-the-dataframe"><i class="fa fa-check"></i><b>1.8.3</b> Computing a new variable and adding it to the dataframe</a></li>
</ul></li>
<li class="chapter" data-level="1.9" data-path="r-basics.html"><a href="r-basics.html#visualizing-data"><i class="fa fa-check"></i><b>1.9</b> Visualizing Data</a>
<ul>
<li class="chapter" data-level="1.9.1" data-path="r-basics.html"><a href="r-basics.html#histograms-and-density-plots"><i class="fa fa-check"></i><b>1.9.1</b> Histograms and density plots</a></li>
<li class="chapter" data-level="1.9.2" data-path="r-basics.html"><a href="r-basics.html#boxplots"><i class="fa fa-check"></i><b>1.9.2</b> Boxplots</a></li>
<li class="chapter" data-level="1.9.3" data-path="r-basics.html"><a href="r-basics.html#scatterplots"><i class="fa fa-check"></i><b>1.9.3</b> Scatterplots</a></li>
</ul></li>
<li class="chapter" data-level="1.10" data-path="r-basics.html"><a href="r-basics.html#review"><i class="fa fa-check"></i><b>1.10</b> Review</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="ordinary-linear-regression.html"><a href="ordinary-linear-regression.html"><i class="fa fa-check"></i><b>2</b> Ordinary Linear Regression</a>
<ul>
<li class="chapter" data-level="2.1" data-path="ordinary-linear-regression.html"><a href="ordinary-linear-regression.html#our-data"><i class="fa fa-check"></i><b>2.1</b> Our data</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="ordinary-linear-regression.html"><a href="ordinary-linear-regression.html#converting-from-numeric-to-factor"><i class="fa fa-check"></i><b>2.1.1</b> Converting from numeric to factor</a></li>
<li class="chapter" data-level="2.1.2" data-path="ordinary-linear-regression.html"><a href="ordinary-linear-regression.html#confidence-intervals-v.-p-values"><i class="fa fa-check"></i><b>2.1.2</b> Confidence Intervals v. p-values</a></li>
<li class="chapter" data-level="2.1.3" data-path="ordinary-linear-regression.html"><a href="ordinary-linear-regression.html#adding-interaction-terms"><i class="fa fa-check"></i><b>2.1.3</b> Adding interaction terms</a></li>
<li class="chapter" data-level="2.1.4" data-path="ordinary-linear-regression.html"><a href="ordinary-linear-regression.html#interaction-model-for-gambling"><i class="fa fa-check"></i><b>2.1.4</b> Interaction model for Gambling</a></li>
<li class="chapter" data-level="2.1.5" data-path="ordinary-linear-regression.html"><a href="ordinary-linear-regression.html#interaction-output"><i class="fa fa-check"></i><b>2.1.5</b> Interaction Output</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="ordinary-linear-regression.html"><a href="ordinary-linear-regression.html#anova-and-drop1-commands"><i class="fa fa-check"></i><b>2.2</b> ANOVA and drop1 commands</a></li>
<li class="chapter" data-level="2.3" data-path="ordinary-linear-regression.html"><a href="ordinary-linear-regression.html#plots"><i class="fa fa-check"></i><b>2.3</b> Plots</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="logistic-regression.html"><a href="logistic-regression.html"><i class="fa fa-check"></i><b>3</b> Logistic Regression</a>
<ul>
<li class="chapter" data-level="3.1" data-path="logistic-regression.html"><a href="logistic-regression.html#an-example-diabetes-risk-factors"><i class="fa fa-check"></i><b>3.1</b> An Example: Diabetes risk factors</a></li>
<li class="chapter" data-level="3.2" data-path="logistic-regression.html"><a href="logistic-regression.html#model-discrimination-and-fit"><i class="fa fa-check"></i><b>3.2</b> Model Discrimination and Fit</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="logistic-regression.html"><a href="logistic-regression.html#roc-and-auroc"><i class="fa fa-check"></i><b>3.2.1</b> ROC and AUROC</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="regression-with-counts-as-outcomes.html"><a href="regression-with-counts-as-outcomes.html"><i class="fa fa-check"></i><b>4</b> Regression with Counts as Outcomes</a>
<ul>
<li class="chapter" data-level="4.1" data-path="regression-with-counts-as-outcomes.html"><a href="regression-with-counts-as-outcomes.html#example-data-phmc-fruits-question"><i class="fa fa-check"></i><b>4.1</b> Example data: PHMC Fruits question</a></li>
<li class="chapter" data-level="4.2" data-path="regression-with-counts-as-outcomes.html"><a href="regression-with-counts-as-outcomes.html#coefficients-in-poisson-models"><i class="fa fa-check"></i><b>4.2</b> Coefficients in Poisson Models</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="regression-with-counts-as-outcomes.html"><a href="regression-with-counts-as-outcomes.html#exponentiated-coefficients-interpretation"><i class="fa fa-check"></i><b>4.2.1</b> Exponentiated Coefficients Interpretation</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="regression-with-counts-as-outcomes.html"><a href="regression-with-counts-as-outcomes.html#overdispersion-and-other-count-regression-models"><i class="fa fa-check"></i><b>4.3</b> Overdispersion and other count regression models</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="regression-with-counts-as-outcomes.html"><a href="regression-with-counts-as-outcomes.html#overdispersion-and-zero-inflation"><i class="fa fa-check"></i><b>4.3.1</b> Overdispersion and Zero-inflation</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="regression-with-counts-as-outcomes.html"><a href="regression-with-counts-as-outcomes.html#zero-inflated-models"><i class="fa fa-check"></i><b>4.4</b> Zero-inflated models</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="model-fit-and-assumptions-for-glms.html"><a href="model-fit-and-assumptions-for-glms.html"><i class="fa fa-check"></i><b>5</b> Model Fit and Assumptions for GLMs</a>
<ul>
<li class="chapter" data-level="5.1" data-path="model-fit-and-assumptions-for-glms.html"><a href="model-fit-and-assumptions-for-glms.html#model-checking-and-diagnostics-in-ordinary-least-squares"><i class="fa fa-check"></i><b>5.1</b> Model Checking and Diagnostics in Ordinary Least Squares</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="model-fit-and-assumptions-for-glms.html"><a href="model-fit-and-assumptions-for-glms.html#residuals-v.-fitted-values"><i class="fa fa-check"></i><b>5.1.1</b> Residuals v. Fitted Values</a></li>
<li class="chapter" data-level="5.1.2" data-path="model-fit-and-assumptions-for-glms.html"><a href="model-fit-and-assumptions-for-glms.html#normalty-of-residuals"><i class="fa fa-check"></i><b>5.1.2</b> Normalty of residuals</a></li>
<li class="chapter" data-level="5.1.3" data-path="model-fit-and-assumptions-for-glms.html"><a href="model-fit-and-assumptions-for-glms.html#leverage"><i class="fa fa-check"></i><b>5.1.3</b> Leverage</a></li>
<li class="chapter" data-level="5.1.4" data-path="model-fit-and-assumptions-for-glms.html"><a href="model-fit-and-assumptions-for-glms.html#influence"><i class="fa fa-check"></i><b>5.1.4</b> Influence</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="model-fit-and-assumptions-for-glms.html"><a href="model-fit-and-assumptions-for-glms.html#model-checking-and-diagnostics-in-logistic-regression"><i class="fa fa-check"></i><b>5.2</b> Model Checking and Diagnostics in Logistic Regression</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="model-fit-and-assumptions-for-glms.html"><a href="model-fit-and-assumptions-for-glms.html#hosmer-lemeshow-test"><i class="fa fa-check"></i><b>5.2.1</b> Hosmer-Lemeshow Test</a></li>
<li class="chapter" data-level="5.2.2" data-path="model-fit-and-assumptions-for-glms.html"><a href="model-fit-and-assumptions-for-glms.html#nagelkerkes-pseudo-r-squared"><i class="fa fa-check"></i><b>5.2.2</b> Nagelkerke’s pseudo R-squared</a></li>
<li class="chapter" data-level="5.2.3" data-path="model-fit-and-assumptions-for-glms.html"><a href="model-fit-and-assumptions-for-glms.html#residuals-and-leverages"><i class="fa fa-check"></i><b>5.2.3</b> Residuals and leverages</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="model-fit-and-assumptions-for-glms.html"><a href="model-fit-and-assumptions-for-glms.html#summary"><i class="fa fa-check"></i><b>5.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="introducing-mixed-models-and-the-lme4-package.html"><a href="introducing-mixed-models-and-the-lme4-package.html"><i class="fa fa-check"></i><b>6</b> Introducing mixed-models and the lme4 package</a>
<ul>
<li class="chapter" data-level="6.1" data-path="introducing-mixed-models-and-the-lme4-package.html"><a href="introducing-mixed-models-and-the-lme4-package.html#options-in-r"><i class="fa fa-check"></i><b>6.1</b> Options in R</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="introducing-mixed-models-and-the-lme4-package.html"><a href="introducing-mixed-models-and-the-lme4-package.html#why-lme4"><i class="fa fa-check"></i><b>6.1.1</b> Why lme4?</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="introducing-mixed-models-and-the-lme4-package.html"><a href="introducing-mixed-models-and-the-lme4-package.html#a-possible-workflow"><i class="fa fa-check"></i><b>6.2</b> A possible workflow</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="introducing-mixed-models-and-the-lme4-package.html"><a href="introducing-mixed-models-and-the-lme4-package.html#high-school-and-beyond"><i class="fa fa-check"></i><b>6.2.1</b> High School and Beyond</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="introducing-mixed-models-and-the-lme4-package.html"><a href="introducing-mixed-models-and-the-lme4-package.html#model-1-one-way-random-effects-anova-using-reml"><i class="fa fa-check"></i><b>6.3</b> Model 1: one-way random-effects ANOVA using REML</a></li>
<li class="chapter" data-level="6.4" data-path="introducing-mixed-models-and-the-lme4-package.html"><a href="introducing-mixed-models-and-the-lme4-package.html#quasi-anova-estimator"><i class="fa fa-check"></i><b>6.4</b> Quasi-ANOVA estimator</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="introducing-mixed-models-and-the-lme4-package.html"><a href="introducing-mixed-models-and-the-lme4-package.html#unrestricted-maximum-likelihood"><i class="fa fa-check"></i><b>6.4.1</b> (unrestricted) Maximum Likelihood</a></li>
<li class="chapter" data-level="6.4.2" data-path="introducing-mixed-models-and-the-lme4-package.html"><a href="introducing-mixed-models-and-the-lme4-package.html#intraclass-correlation"><i class="fa fa-check"></i><b>6.4.2</b> Intraclass correlation</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="introducing-mixed-models-and-the-lme4-package.html"><a href="introducing-mixed-models-and-the-lme4-package.html#bootstrapped-confidence-intervals"><i class="fa fa-check"></i><b>6.5</b> Bootstrapped confidence intervals</a></li>
<li class="chapter" data-level="6.6" data-path="introducing-mixed-models-and-the-lme4-package.html"><a href="introducing-mixed-models-and-the-lme4-package.html#linear-mixed-effects"><i class="fa fa-check"></i><b>6.6</b> Linear mixed-effects</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="introducing-mixed-models-and-the-lme4-package.html"><a href="introducing-mixed-models-and-the-lme4-package.html#random-effects-estimates"><i class="fa fa-check"></i><b>6.6.1</b> Random effects estimates</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="mixed-models-as-hierarchical-linear-models.html"><a href="mixed-models-as-hierarchical-linear-models.html"><i class="fa fa-check"></i><b>7</b> Mixed models as Hierarchical Linear Models</a>
<ul>
<li class="chapter" data-level="7.1" data-path="mixed-models-as-hierarchical-linear-models.html"><a href="mixed-models-as-hierarchical-linear-models.html#high-school-and-beyond-data"><i class="fa fa-check"></i><b>7.1</b> High School and Beyond Data</a></li>
<li class="chapter" data-level="7.2" data-path="mixed-models-as-hierarchical-linear-models.html"><a href="mixed-models-as-hierarchical-linear-models.html#model-1-unconditional-model"><i class="fa fa-check"></i><b>7.2</b> Model 1: unconditional model</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="mixed-models-as-hierarchical-linear-models.html"><a href="mixed-models-as-hierarchical-linear-models.html#unconditional-icc"><i class="fa fa-check"></i><b>7.2.1</b> Unconditional ICC</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="mixed-models-as-hierarchical-linear-models.html"><a href="mixed-models-as-hierarchical-linear-models.html#means-as-outcomes-binary-predictor"><i class="fa fa-check"></i><b>7.3</b> Means as outcomes: Binary Predictor</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="mixed-models-as-hierarchical-linear-models.html"><a href="mixed-models-as-hierarchical-linear-models.html#means-as-outcomes-continuous-predictor"><i class="fa fa-check"></i><b>7.3.1</b> Means as outcomes: continuous predictor</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="mixed-models-as-hierarchical-linear-models.html"><a href="mixed-models-as-hierarchical-linear-models.html#multiple-hierarchical-linear-regression"><i class="fa fa-check"></i><b>7.4</b> Multiple hierarchical linear regression</a></li>
<li class="chapter" data-level="7.5" data-path="mixed-models-as-hierarchical-linear-models.html"><a href="mixed-models-as-hierarchical-linear-models.html#plotting-predictor-effects"><i class="fa fa-check"></i><b>7.5</b> Plotting predictor effects</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="more-on-hierarchical-linear-models.html"><a href="more-on-hierarchical-linear-models.html"><i class="fa fa-check"></i><b>8</b> More on Hierarchical Linear Models</a>
<ul>
<li class="chapter" data-level="8.1" data-path="more-on-hierarchical-linear-models.html"><a href="more-on-hierarchical-linear-models.html#overview-1"><i class="fa fa-check"></i><b>8.1</b> Overview</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="more-on-hierarchical-linear-models.html"><a href="more-on-hierarchical-linear-models.html#load-the-data"><i class="fa fa-check"></i><b>8.1.1</b> Load the data</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="more-on-hierarchical-linear-models.html"><a href="more-on-hierarchical-linear-models.html#random-coefficients-model"><i class="fa fa-check"></i><b>8.2</b> Random Coefficients model</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="more-on-hierarchical-linear-models.html"><a href="more-on-hierarchical-linear-models.html#visualizing-the-within-school-slopes"><i class="fa fa-check"></i><b>8.2.1</b> Visualizing the within-school slopes</a></li>
<li class="chapter" data-level="8.2.2" data-path="more-on-hierarchical-linear-models.html"><a href="more-on-hierarchical-linear-models.html#fitting-the-random-coefficients-2-level-model"><i class="fa fa-check"></i><b>8.2.2</b> Fitting the Random Coefficients 2-level model</a></li>
<li class="chapter" data-level="8.2.3" data-path="more-on-hierarchical-linear-models.html"><a href="more-on-hierarchical-linear-models.html#adding-additional-level-1-predictors-to-the-random-coefficients-model"><i class="fa fa-check"></i><b>8.2.3</b> Adding additional level-1 predictors to the random coefficients model</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="more-on-hierarchical-linear-models.html"><a href="more-on-hierarchical-linear-models.html#intercepts-and-slopes-as-outcomes"><i class="fa fa-check"></i><b>8.3</b> Intercepts and Slopes as Outcomes</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="more-on-hierarchical-linear-models.html"><a href="more-on-hierarchical-linear-models.html#interactions-and-the-iso-model"><i class="fa fa-check"></i><b>8.3.1</b> Interactions and the ISO model</a></li>
<li class="chapter" data-level="8.3.2" data-path="more-on-hierarchical-linear-models.html"><a href="more-on-hierarchical-linear-models.html#mean-ses-and-student-ses"><i class="fa fa-check"></i><b>8.3.2</b> Mean SES and Student SES</a></li>
<li class="chapter" data-level="8.3.3" data-path="more-on-hierarchical-linear-models.html"><a href="more-on-hierarchical-linear-models.html#sector-and-student-ses"><i class="fa fa-check"></i><b>8.3.3</b> Sector and Student SES</a></li>
<li class="chapter" data-level="8.3.4" data-path="more-on-hierarchical-linear-models.html"><a href="more-on-hierarchical-linear-models.html#visualizing-the-mean-ses-effect"><i class="fa fa-check"></i><b>8.3.4</b> Visualizing the mean SES effect</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="more-on-hierarchical-linear-models.html"><a href="more-on-hierarchical-linear-models.html#model-comparison-with-likelihood-ratios-fixed-and-random"><i class="fa fa-check"></i><b>8.4</b> Model comparison with Likelihood Ratios: Fixed and Random</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="more-on-hierarchical-linear-models.html"><a href="more-on-hierarchical-linear-models.html#example-1-lrt-for-fixed-effects"><i class="fa fa-check"></i><b>8.4.1</b> Example 1: LRT for fixed effects</a></li>
<li class="chapter" data-level="8.4.2" data-path="more-on-hierarchical-linear-models.html"><a href="more-on-hierarchical-linear-models.html#example-2-lrt-for-random-effects"><i class="fa fa-check"></i><b>8.4.2</b> Example 2: LRT for random effects</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="more-on-hierarchical-linear-models.html"><a href="more-on-hierarchical-linear-models.html#diagnostics"><i class="fa fa-check"></i><b>8.5</b> Diagnostics</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="using-lme4-to-fit-mlm-to-longitudinal-data.html"><a href="using-lme4-to-fit-mlm-to-longitudinal-data.html"><i class="fa fa-check"></i><b>9</b> Using lme4 to fit MLM to longitudinal data</a>
<ul>
<li class="chapter" data-level="9.1" data-path="using-lme4-to-fit-mlm-to-longitudinal-data.html"><a href="using-lme4-to-fit-mlm-to-longitudinal-data.html#data-description-average-reaction-time-per-day-for-subjects-in-a-sleep-deprivation-study-belenky-et-al.-2003"><i class="fa fa-check"></i><b>9.1</b> Data description: average reaction time per day for subjects in a sleep deprivation study (Belenky et al. 2003)</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="using-lme4-to-fit-mlm-to-longitudinal-data.html"><a href="using-lme4-to-fit-mlm-to-longitudinal-data.html#visualization-of-the-data"><i class="fa fa-check"></i><b>9.1.1</b> Visualization of the data</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="using-lme4-to-fit-mlm-to-longitudinal-data.html"><a href="using-lme4-to-fit-mlm-to-longitudinal-data.html#fitting-the-level-1-model"><i class="fa fa-check"></i><b>9.2</b> Fitting the level-1 model</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="using-lme4-to-fit-mlm-to-longitudinal-data.html"><a href="using-lme4-to-fit-mlm-to-longitudinal-data.html#model-equations"><i class="fa fa-check"></i><b>9.2.1</b> Model Equations</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="using-lme4-to-fit-mlm-to-longitudinal-data.html"><a href="using-lme4-to-fit-mlm-to-longitudinal-data.html#model-building"><i class="fa fa-check"></i><b>9.3</b> Model building</a></li>
<li class="chapter" data-level="9.4" data-path="using-lme4-to-fit-mlm-to-longitudinal-data.html"><a href="using-lme4-to-fit-mlm-to-longitudinal-data.html#model-comparison-and-testing"><i class="fa fa-check"></i><b>9.4</b> Model comparison and testing</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="using-lme4-to-fit-mlm-to-longitudinal-data.html"><a href="using-lme4-to-fit-mlm-to-longitudinal-data.html#option-1-using-confidence-intervals"><i class="fa fa-check"></i><b>9.4.1</b> Option 1: using confidence intervals</a></li>
<li class="chapter" data-level="9.4.2" data-path="using-lme4-to-fit-mlm-to-longitudinal-data.html"><a href="using-lme4-to-fit-mlm-to-longitudinal-data.html#tests"><i class="fa fa-check"></i><b>9.4.2</b> Tests</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="using-lme4-to-fit-mlm-to-longitudinal-data.html"><a href="using-lme4-to-fit-mlm-to-longitudinal-data.html#quadratic-model-with-lmer"><i class="fa fa-check"></i><b>9.5</b> Quadratic model with lmer</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="using-lme4-to-fit-mlm-to-longitudinal-data.html"><a href="using-lme4-to-fit-mlm-to-longitudinal-data.html#a-note-on-quadratic-terms"><i class="fa fa-check"></i><b>9.5.1</b> A note on quadratic terms</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="using-lme4-to-fit-mlm-to-longitudinal-data.html"><a href="using-lme4-to-fit-mlm-to-longitudinal-data.html#summary-of-the-sleepstudy-analysis"><i class="fa fa-check"></i><b>9.6</b> Summary of the sleepstudy analysis</a></li>
<li class="chapter" data-level="9.7" data-path="using-lme4-to-fit-mlm-to-longitudinal-data.html"><a href="using-lme4-to-fit-mlm-to-longitudinal-data.html#preview-of-the-blackmore-data-used-for-assignment-7b"><i class="fa fa-check"></i><b>9.7</b> Preview of the Blackmore data used for Assignment 7b</a>
<ul>
<li class="chapter" data-level="9.7.1" data-path="using-lme4-to-fit-mlm-to-longitudinal-data.html"><a href="using-lme4-to-fit-mlm-to-longitudinal-data.html#a-note-on-the-age-variable-in-blackmore"><i class="fa fa-check"></i><b>9.7.1</b> A note on the age variable in Blackmore</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="longitudinal-models-with-upper-level-predictors.html"><a href="longitudinal-models-with-upper-level-predictors.html"><i class="fa fa-check"></i><b>10</b> Longitudinal models with upper-level predictors</a>
<ul>
<li class="chapter" data-level="10.1" data-path="longitudinal-models-with-upper-level-predictors.html"><a href="longitudinal-models-with-upper-level-predictors.html#overview-2"><i class="fa fa-check"></i><b>10.1</b> Overview</a></li>
<li class="chapter" data-level="10.2" data-path="longitudinal-models-with-upper-level-predictors.html"><a href="longitudinal-models-with-upper-level-predictors.html#part-1-intercepts-and-slopes-as-outcomes"><i class="fa fa-check"></i><b>10.2</b> Part 1: Intercepts and Slopes as Outcomes</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="longitudinal-models-with-upper-level-predictors.html"><a href="longitudinal-models-with-upper-level-predictors.html#a-short-tutorial-on-ggplot2"><i class="fa fa-check"></i><b>10.2.1</b> A short tutorial on ggplot2</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="longitudinal-models-with-upper-level-predictors.html"><a href="longitudinal-models-with-upper-level-predictors.html#adding-level-2-predictors"><i class="fa fa-check"></i><b>10.3</b> Adding level 2 predictors</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="longitudinal-models-with-upper-level-predictors.html"><a href="longitudinal-models-with-upper-level-predictors.html#transforming-the-exercise-variable"><i class="fa fa-check"></i><b>10.3.1</b> Transforming the Exercise Variable</a></li>
<li class="chapter" data-level="10.3.2" data-path="longitudinal-models-with-upper-level-predictors.html"><a href="longitudinal-models-with-upper-level-predictors.html#steps-1-and-2"><i class="fa fa-check"></i><b>10.3.2</b> Steps 1 and 2:</a></li>
<li class="chapter" data-level="10.3.3" data-path="longitudinal-models-with-upper-level-predictors.html"><a href="longitudinal-models-with-upper-level-predictors.html#step-3"><i class="fa fa-check"></i><b>10.3.3</b> Step 3:</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="longitudinal-models-with-upper-level-predictors.html"><a href="longitudinal-models-with-upper-level-predictors.html#summary-1"><i class="fa fa-check"></i><b>10.4</b> Summary</a></li>
<li class="chapter" data-level="10.5" data-path="longitudinal-models-with-upper-level-predictors.html"><a href="longitudinal-models-with-upper-level-predictors.html#adding-level-2-explanatory-variables"><i class="fa fa-check"></i><b>10.5</b> Adding Level-2 Explanatory variables</a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="longitudinal-models-with-upper-level-predictors.html"><a href="longitudinal-models-with-upper-level-predictors.html#visualizing-the-transformed-data"><i class="fa fa-check"></i><b>10.5.1</b> Visualizing the transformed data</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="longitudinal-models-with-upper-level-predictors.html"><a href="longitudinal-models-with-upper-level-predictors.html#time-dependent-covariates"><i class="fa fa-check"></i><b>10.6</b> Time dependent covariates</a>
<ul>
<li class="chapter" data-level="10.6.1" data-path="longitudinal-models-with-upper-level-predictors.html"><a href="longitudinal-models-with-upper-level-predictors.html#level-1-time-dependent-sports-predictor"><i class="fa fa-check"></i><b>10.6.1</b> Level-1: Time-dependent sports predictor</a></li>
<li class="chapter" data-level="10.6.2" data-path="longitudinal-models-with-upper-level-predictors.html"><a href="longitudinal-models-with-upper-level-predictors.html#level-2-participant-level-indicator-of-sports-participation"><i class="fa fa-check"></i><b>10.6.2</b> Level-2: Participant-level indicator of sports participation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="multilevel-logistic-regression.html"><a href="multilevel-logistic-regression.html"><i class="fa fa-check"></i><b>11</b> Multilevel logistic regression</a>
<ul>
<li class="chapter" data-level="11.1" data-path="multilevel-logistic-regression.html"><a href="multilevel-logistic-regression.html#unconditional-model"><i class="fa fa-check"></i><b>11.1</b> Unconditional model</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="multilevel-logistic-regression.html"><a href="multilevel-logistic-regression.html#fitting-the-model"><i class="fa fa-check"></i><b>11.1.1</b> Fitting the model</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="multilevel-logistic-regression.html"><a href="multilevel-logistic-regression.html#conditional-model"><i class="fa fa-check"></i><b>11.2</b> Conditional model</a></li>
<li class="chapter" data-level="11.3" data-path="multilevel-logistic-regression.html"><a href="multilevel-logistic-regression.html#interpreting-odds-ratios"><i class="fa fa-check"></i><b>11.3</b> Interpreting odds ratios</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="mlm-v.-gee-for-binary-outcomes.html"><a href="mlm-v.-gee-for-binary-outcomes.html"><i class="fa fa-check"></i><b>12</b> MLM v. GEE for Binary Outcomes</a>
<ul>
<li class="chapter" data-level="12.1" data-path="mlm-v.-gee-for-binary-outcomes.html"><a href="mlm-v.-gee-for-binary-outcomes.html#overview-3"><i class="fa fa-check"></i><b>12.1</b> Overview</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="mlm-v.-gee-for-binary-outcomes.html"><a href="mlm-v.-gee-for-binary-outcomes.html#dataset"><i class="fa fa-check"></i><b>12.1.1</b> Dataset</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="mlm-v.-gee-for-binary-outcomes.html"><a href="mlm-v.-gee-for-binary-outcomes.html#hlm-model"><i class="fa fa-check"></i><b>12.2</b> HLM Model</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="mlm-v.-gee-for-binary-outcomes.html"><a href="mlm-v.-gee-for-binary-outcomes.html#interpreting-odds-ratios-1"><i class="fa fa-check"></i><b>12.2.1</b> Interpreting odds ratios</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="mlm-v.-gee-for-binary-outcomes.html"><a href="mlm-v.-gee-for-binary-outcomes.html#population-average-model-with-gee"><i class="fa fa-check"></i><b>12.3</b> Population Average Model with GEE</a></li>
<li class="chapter" data-level="12.4" data-path="mlm-v.-gee-for-binary-outcomes.html"><a href="mlm-v.-gee-for-binary-outcomes.html#hlm-with-level-2-predictors"><i class="fa fa-check"></i><b>12.4</b> HLM with level-2 predictors</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="mlm-v.-gee-for-binary-outcomes.html"><a href="mlm-v.-gee-for-binary-outcomes.html#random-slopes-1"><i class="fa fa-check"></i><b>12.4.1</b> Random slopes</a></li>
<li class="chapter" data-level="12.4.2" data-path="mlm-v.-gee-for-binary-outcomes.html"><a href="mlm-v.-gee-for-binary-outcomes.html#level-2-predictors"><i class="fa fa-check"></i><b>12.4.2</b> Level 2 predictors</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="mlm-v.-gee-for-binary-outcomes.html"><a href="mlm-v.-gee-for-binary-outcomes.html#compare-to-gee"><i class="fa fa-check"></i><b>12.5</b> Compare to GEE</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="mlm-v.-gee-for-binary-outcomes.html"><a href="mlm-v.-gee-for-binary-outcomes.html#visualizing-res"><i class="fa fa-check"></i><b>12.5.1</b> Visualizing REs</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Generalized Linear Mixed Models with R: A tutorial</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="r-basics" class="section level1 hasAnchor" number="1">
<h1><span class="header-section-number">1</span> R Basics<a href="r-basics.html#r-basics" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This Chapter is designed to help you with a few things, not limited to:</p>
<ul>
<li>Overcome any fear about learning to code</li>
<li>Learn about data structures in R
<ul>
<li>Type data into R (not fun!)</li>
<li>Import data to R from Excel and SPSS (fun)</li>
<li>Manipulate data in R
<ul>
<li>Reference different variables and subsets</li>
<li>Add and delete columns in a data frame</li>
<li>View the spreadsheet</li>
</ul></li>
</ul></li>
<li>Using the <code>psych</code> package for descriptive statistics</li>
<li>Using the <code>car</code> package for exploratory visualization</li>
</ul>
<div id="what-is-coding" class="section level2 hasAnchor" number="1.1">
<h2><span class="header-section-number">1.1</span> What is “coding”<a href="r-basics.html#what-is-coding" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Computer programming, or coding is the use of a specific language to execute commands on a computer. The commands are usually called functions, though there’s more to it than that. A function is simply a mapping between some input and some output. It specifies a procedure for turning input into output.</p>
<p>For example, the sample mean is a function. The details are what the equation <span class="math inline">\(\frac{1}{N}\Sigma X\)</span> says to do. This function has “arguments”, details to be passed to it and used. In this example, the arguments are N (the sample size) and the sum of the scores.</p>
<p>At it’s essence, R is a procedural language, meaning that programming in R is very literal, and involves writing out calls to various functions in order to obtain the output that you’d like to have. It also has “object-oriented” properties in the background. We don’t need to know about those, but they’re great since they make R very flexible as an open source tool. Open source means that anyone in the world can add functions or procedures to R by writing new code in R.</p>
</div>
<div id="r-console-versus-the-rstudio-script" class="section level2 hasAnchor" number="1.2">
<h2><span class="header-section-number">1.2</span> R Console versus the RStudio Script<a href="r-basics.html#r-console-versus-the-rstudio-script" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In R, we have a choice of typing in commands at the console, which is just the command prompt or writing out many commands and statements in a file and running or executing some or all of them when we need them. The latter is basically the same as writing syntax in SPSS. Like syntax, R scripts can be written, saved, re-used, etc. In both cases, the idea is to be able to reconstruct your analysis exactly each time you re-do it. This saves time and energy, but also makes the analysis “reproducible” such that other scientists can check your work if they desire.</p>
<p>We will use the RStudio Script window to write and save our code. But let’s start with the console.</p>
<p>Type the following statements one by one in the console and see the output. You can actually copy each line one at a time and paste it in your console.</p>
<p>Press ENTER to have the console return results.</p>
<p>Note that any line that starts with <code>#</code> is not read by R. This is called a comment, or “commenting out” a line. These are handy in script files as they explain what is there to a person who doesn’t know what you were hoping to do (which is sometimes you!). It is good practice to include comments to describe what the code underneath does.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="r-basics.html#cb1-1" tabindex="-1"></a><span class="co"># addition</span></span>
<span id="cb1-2"><a href="r-basics.html#cb1-2" tabindex="-1"></a><span class="dv">100</span> <span class="sc">+</span> <span class="dv">100</span></span>
<span id="cb1-3"><a href="r-basics.html#cb1-3" tabindex="-1"></a></span>
<span id="cb1-4"><a href="r-basics.html#cb1-4" tabindex="-1"></a><span class="co"># subtraction</span></span>
<span id="cb1-5"><a href="r-basics.html#cb1-5" tabindex="-1"></a><span class="dv">100</span> <span class="sc">-</span> <span class="dv">100</span></span>
<span id="cb1-6"><a href="r-basics.html#cb1-6" tabindex="-1"></a></span>
<span id="cb1-7"><a href="r-basics.html#cb1-7" tabindex="-1"></a><span class="co"># multiplication</span></span>
<span id="cb1-8"><a href="r-basics.html#cb1-8" tabindex="-1"></a><span class="dv">100</span> <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb1-9"><a href="r-basics.html#cb1-9" tabindex="-1"></a></span>
<span id="cb1-10"><a href="r-basics.html#cb1-10" tabindex="-1"></a><span class="co"># division</span></span>
<span id="cb1-11"><a href="r-basics.html#cb1-11" tabindex="-1"></a><span class="dv">100</span> <span class="sc">/</span> <span class="dv">100</span></span>
<span id="cb1-12"><a href="r-basics.html#cb1-12" tabindex="-1"></a></span>
<span id="cb1-13"><a href="r-basics.html#cb1-13" tabindex="-1"></a><span class="co"># Squaring</span></span>
<span id="cb1-14"><a href="r-basics.html#cb1-14" tabindex="-1"></a><span class="dv">100</span><span class="sc">^</span><span class="dv">2</span></span>
<span id="cb1-15"><a href="r-basics.html#cb1-15" tabindex="-1"></a></span>
<span id="cb1-16"><a href="r-basics.html#cb1-16" tabindex="-1"></a><span class="co"># Raising to any power</span></span>
<span id="cb1-17"><a href="r-basics.html#cb1-17" tabindex="-1"></a><span class="dv">100</span><span class="sc">^</span>(<span class="fl">1.23</span>)</span>
<span id="cb1-18"><a href="r-basics.html#cb1-18" tabindex="-1"></a></span>
<span id="cb1-19"><a href="r-basics.html#cb1-19" tabindex="-1"></a><span class="co"># Using &quot;e&quot; (Euler&#39;s Number)</span></span>
<span id="cb1-20"><a href="r-basics.html#cb1-20" tabindex="-1"></a><span class="fu">exp</span>(<span class="sc">-</span><span class="fl">1.2</span>)</span></code></pre></div>
</div>
<div id="working-with-data" class="section level2 hasAnchor" number="1.3">
<h2><span class="header-section-number">1.3</span> Working with data<a href="r-basics.html#working-with-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>So at this point we can see that R is a calculator. More elaborate computations can be performed using parentheses and built-in functions. Let’s try it, but now I want you to open up a new Script file. You can do that by clicking File &gt; New File &gt; R Script (or by various other short-cut methods).</p>
<p>The basic unit of data in R is a vector. Think of it like a row or column of data in Excel. Data objects aren’t very useful if we don’t save them to R’s Global Environment (this means the active datasets in R’s memory at any time).</p>
<p>We “assign” data to an object in R using the assignment operator <code>&lt;-</code> . To type it you type the less than sign <code>&lt;</code> then the short dash <code>-</code>. We put data in a vector by using the <code>c()</code> syntax. <code>c</code> is short for concatenate, a fancy word meaning string a bunch of stuff together.</p>
<p>When you assign data to an object (<code>x</code> below). It won’t print to the console. To see what’s in that object you can simply type it’s name at the console, or select the line in your script and click “Run.”</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="r-basics.html#cb2-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>) <span class="co"># assignment</span></span>
<span id="cb2-2"><a href="r-basics.html#cb2-2" tabindex="-1"></a>x <span class="co"># print</span></span></code></pre></div>
<pre><code>## [1] 1 2 3 4</code></pre>
</div>
<div id="using-a-script-to-generate-data-and-computing-the-mean-and-standard-deviation" class="section level2 hasAnchor" number="1.4">
<h2><span class="header-section-number">1.4</span> Using a script to generate data, and computing the mean and standard deviation<a href="r-basics.html#using-a-script-to-generate-data-and-computing-the-mean-and-standard-deviation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s say you’ve got 10 scores from different patients rating the quality of their care on a 5-item scale. The data are averages across the 5 items. A score of 5 means the patient was very satisfied.</p>
<p>Type in the following lines in your script window; you can omit the comments. When you are finished, click the button in your script window that says “Source.” This button sends all of your script to the console and runs it all. If instead you want to run one line at a time, highlight it with your cursor, or simply put your cursor at the beginning of the line and click the “Run” button. You can do this for the rest of the tutorial (that is, run each new line by itself rather than hitting source over and over again).</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="r-basics.html#cb4-1" tabindex="-1"></a><span class="co"># make a small dataset</span></span>
<span id="cb4-2"><a href="r-basics.html#cb4-2" tabindex="-1"></a>mydata <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">3.0</span>, <span class="fl">2.0</span>, <span class="fl">5.0</span>, <span class="fl">2.5</span>, <span class="fl">3.5</span>, <span class="fl">4.5</span>, <span class="fl">2.0</span>, <span class="fl">3.80</span>, <span class="fl">1.0</span>, <span class="fl">4.0</span>)</span>
<span id="cb4-3"><a href="r-basics.html#cb4-3" tabindex="-1"></a></span>
<span id="cb4-4"><a href="r-basics.html#cb4-4" tabindex="-1"></a><span class="co"># compute the mean using the sum of the scores divided by how many there are (the length of the vector holding them)</span></span>
<span id="cb4-5"><a href="r-basics.html#cb4-5" tabindex="-1"></a>mymean <span class="ot">&lt;-</span> <span class="fu">sum</span>(mydata) <span class="sc">/</span> <span class="fu">length</span>(mydata)</span>
<span id="cb4-6"><a href="r-basics.html#cb4-6" tabindex="-1"></a></span>
<span id="cb4-7"><a href="r-basics.html#cb4-7" tabindex="-1"></a><span class="co"># compute sum of squares using similar commands note the parentheses!</span></span>
<span id="cb4-8"><a href="r-basics.html#cb4-8" tabindex="-1"></a>mySS <span class="ot">&lt;-</span> <span class="fu">sum</span>(mydata<span class="sc">^</span><span class="dv">2</span>) <span class="sc">-</span> ((<span class="fu">sum</span>(mydata)<span class="sc">^</span><span class="dv">2</span>) <span class="sc">/</span> <span class="fu">length</span>(mydata))</span>
<span id="cb4-9"><a href="r-basics.html#cb4-9" tabindex="-1"></a></span>
<span id="cb4-10"><a href="r-basics.html#cb4-10" tabindex="-1"></a><span class="co"># compute the sample standard deviation by taking the square root of the sample variance</span></span>
<span id="cb4-11"><a href="r-basics.html#cb4-11" tabindex="-1"></a>mysd <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(mySS <span class="sc">/</span> (<span class="fu">length</span>(mydata)<span class="sc">-</span> <span class="dv">1</span>))</span></code></pre></div>
<p>Ok, you may be wondering where the output is. Look at the Environment tab in your RStudio pane. You’ll see a list of Values and the names you gave them along with the results. If you did it correctly you should have:</p>
<pre><code>##  [1] 3.0 2.0 5.0 2.5 3.5 4.5 2.0 3.8 1.0 4.0</code></pre>
<pre><code>## [1] 3.13</code></pre>
<pre><code>## [1] 14.221</code></pre>
<pre><code>## [1] 1.257025</code></pre>
<p>Let’s compare our results with R’s built in functions</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="r-basics.html#cb9-1" tabindex="-1"></a><span class="fu">mean</span>(mydata)</span></code></pre></div>
<pre><code>## [1] 3.13</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="r-basics.html#cb11-1" tabindex="-1"></a><span class="fu">sd</span>(mydata)</span></code></pre></div>
<pre><code>## [1] 1.257025</code></pre>
<p>Aha! We did it. As you can see, many things that you might be tempted to hard code are already functions or commands in R (those words are essentially interchangeable in R). We’ll see that this is true for many descriptive statistics in the next section. But first we need to start working with real data, and importing it into R.</p>
</div>
<div id="importing-data" class="section level2 hasAnchor" number="1.5">
<h2><span class="header-section-number">1.5</span> Importing Data<a href="r-basics.html#importing-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The types of files that are likely to contain data you already have are .sav files (SPSS) and either .csv or .xlsx files. I’m grouping the latter 2 together although they’re actually quite different. To make things easier, I’m going to show you how to import .csv files only and also SPSS files. SAS files and Stata files can also be imported into R, which is good if you’re working with government survey data.</p>
<p><em>The best way to make sure the data file you’re importing is accessible is to make a folder on your computer, store the file in that folder, and then change the working directory to that folder</em></p>
<p>You can change your working directory manually using the Files nagivator pane in RStudio. Simply click on the file folders until you find the one with your file. Then, click the gear icon that says “More.” From that drop-down menu, click “Set as working directory.”</p>
<div class="figure"><span style="display:block;" id="fig:fig1"></span>
<img src="wd_pic.png" alt="Set as working directory. Click the Gear icon to open this menu." width="50%" />
<p class="caption">
Figure 1.1: Set as working directory. Click the Gear icon to open this menu.
</p>
</div>
</div>
<div id="reading-in-an-spss-file" class="section level2 hasAnchor" number="1.6">
<h2><span class="header-section-number">1.6</span> Reading in an SPSS file<a href="r-basics.html#reading-in-an-spss-file" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>First, you’ll need to download the nurses.sav file from Canvas. Save it to your Downloads folder if it doesn’t automatically go there. Then set that folder as your working directory (alternatively, you can choose whatever folder you want).</p>
<p>Here’s where it get’s a little tricky. To import SPSS data, we will use the “read.spss” command. That command asks you to give the full path to the file. On windows and PC it’s a bit different. I have a Mac so the following works for me. Before we run it, we have to load the add-on package that contains the command. It is called <code>foreign</code>. The following code loads the package (<code>library(foreign)</code>), then runs the command by specifying the path to the file in quotes. This assumes that you have already set the working directory to the folder that contains <code>nurses.sav.</code> Ignore any warnings about the package being built under any specific R build.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="r-basics.html#cb13-1" tabindex="-1"></a><span class="fu">library</span>(foreign)</span>
<span id="cb13-2"><a href="r-basics.html#cb13-2" tabindex="-1"></a>nurses <span class="ot">&lt;-</span> <span class="fu">read.spss</span>(<span class="st">&quot;nurses.sav&quot;</span>, <span class="at">to.data.frame =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>Importantly, there is an option (called an argument) that says <code>to.data.frame = TRUE</code>. This needs to be in any <code>read.spss</code> call because the default reads the data into a format that won’t work for us.</p>
<p>You can verify that your data was imported by looking at the Global Environment pane and clicking on the name of the dataset. It should pop up as a tab in RStudio and if you click on the tab you’ll see something that is very much like a spreadsheet. Also, you should see a blue circle with a little arrow back over by your dataset. It’s a quick way to view the columns in your data. Notice we have a <code>NA</code> at various places. This is R’s native missing data symbol and can be handled by various commands in various ways.</p>
<p>One more thing, let’s get some more details about our data before we analyze it. Try this</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="r-basics.html#cb14-1" tabindex="-1"></a><span class="co"># get the &quot;structure&quot; of our data</span></span>
<span id="cb14-2"><a href="r-basics.html#cb14-2" tabindex="-1"></a><span class="fu">str</span>(nurses)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    1000 obs. of  20 variables:
##  $ hospital : num  1 1 1 1 1 1 1 1 1 1 ...
##  $ ward     : num  1 1 1 1 1 1 1 1 1 2 ...
##  $ wardid   : num  11 11 11 11 11 11 11 11 11 12 ...
##  $ nurse    : num  1 2 3 4 5 6 7 8 9 10 ...
##  $ age      : num  36 45 32 57 46 60 23 32 60 45 ...
##  $ gender   : Factor w/ 2 levels &quot;male&quot;,&quot;female&quot;: 1 1 1 2 2 2 2 2 1 1 ...
##  $ experien : num  11 20 7 25 22 22 13 13 17 21 ...
##  $ stress   : num  7 7 7 6 6 6 6 7 7 6 ...
##  $ wardtype : Factor w/ 2 levels &quot;general care&quot;,..: 1 1 1 1 1 1 1 1 1 2 ...
##  $ hospsize : Factor w/ 3 levels &quot;small&quot;,&quot;medium&quot;,..: 3 3 3 3 3 3 3 3 3 3 ...
##  $ expcon   : Factor w/ 2 levels &quot;control&quot;,&quot;experiment&quot;: 2 2 2 2 2 2 2 2 2 2 ...
##  $ Zage     : num  -0.582 0.166 -0.914 1.162 0.249 ...
##  $ Zgender  : num  -1.66 -1.66 -1.66 0.6 0.6 ...
##  $ Zexperien: num  -1.002 0.487 -1.664 1.315 0.818 ...
##  $ Zstress  : num  2.07 2.07 2.07 1.04 1.04 ...
##  $ Zwardtype: num  -1 -1 -1 -1 -1 ...
##  $ Zhospsize: num  1.78 1.78 1.78 1.78 1.78 ...
##  $ Zexpcon  : num  0.992 0.992 0.992 0.992 0.992 ...
##  $ Cexpcon  : num  0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 ...
##  $ Chospsize: num  1 1 1 1 1 1 1 1 1 1 ...
##  - attr(*, &quot;variable.labels&quot;)= Named chr [1:20] &quot;id&quot; &quot;id&quot; &quot;unique ward id&quot; &quot;id&quot; ...
##   ..- attr(*, &quot;names&quot;)= chr [1:20] &quot;hospital&quot; &quot;ward&quot; &quot;wardid&quot; &quot;nurse&quot; ...
##  - attr(*, &quot;codepage&quot;)= int 65001</code></pre>
<p>What you’ve done here is basically print to the screen what you get with the toggle circle button. This is very helpful if you have factors labels (as with <code>gender</code>) which you will see are included with SPSS imports.</p>
<p>The <code>nurses</code> data set has a special type called data frame. This is basically R’s version of a spreadsheet. It has different columns for variables, and different rows for cases. Each column is of a specific type: <code>num</code> for numeric, <code>char</code> for character (text), <code>Factor</code> for coded variables, <code>int</code> for integer, and <code>logi</code> for logical (True / False).</p>
<div id="a-quick-note-on-indexing" class="section level3 hasAnchor" number="1.6.1">
<h3><span class="header-section-number">1.6.1</span> A quick note on indexing<a href="r-basics.html#a-quick-note-on-indexing" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Another tricky part of R is that you have to tell R what column of a data frame you want to work with by referencing both the data name and the column. There are several ways to do this:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="r-basics.html#cb16-1" tabindex="-1"></a><span class="co"># using the $ selector</span></span>
<span id="cb16-2"><a href="r-basics.html#cb16-2" tabindex="-1"></a>nurses<span class="sc">$</span>age</span>
<span id="cb16-3"><a href="r-basics.html#cb16-3" tabindex="-1"></a></span>
<span id="cb16-4"><a href="r-basics.html#cb16-4" tabindex="-1"></a><span class="co"># using matrix indexing</span></span>
<span id="cb16-5"><a href="r-basics.html#cb16-5" tabindex="-1"></a>nurses[ , <span class="dv">5</span>]</span>
<span id="cb16-6"><a href="r-basics.html#cb16-6" tabindex="-1"></a></span>
<span id="cb16-7"><a href="r-basics.html#cb16-7" tabindex="-1"></a><span class="co"># using the column name and matrix indexing</span></span>
<span id="cb16-8"><a href="r-basics.html#cb16-8" tabindex="-1"></a>nurses[, <span class="st">&quot;age&quot;</span>]</span></code></pre></div>
<div id="selection-operator" class="section level4 hasAnchor" number="1.6.1.1">
<h4><span class="header-section-number">1.6.1.1</span> Selection operator<a href="r-basics.html#selection-operator" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The <code>$</code> “selects” the age variable from nurses, and the result is a vector (the column of ages)</p>
</div>
<div id="matrix-indexing" class="section level4 hasAnchor" number="1.6.1.2">
<h4><span class="header-section-number">1.6.1.2</span> Matrix indexing<a href="r-basics.html#matrix-indexing" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Matrix indexing is really handy, but also tricky. It is common to all computer code. A single cell of a matrix or rectangular data array is accessed using it’s row number and column number in square brackets separated by a comma. For example, this will give me the age of the nurse in the 6th row. Six specifies the row, while 5 is there singe <code>age</code> is the 5th column in the dataset</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="r-basics.html#cb17-1" tabindex="-1"></a><span class="co"># the age of the nurse in the 6th row</span></span>
<span id="cb17-2"><a href="r-basics.html#cb17-2" tabindex="-1"></a>nurses[<span class="dv">6</span>,<span class="dv">5</span>]</span></code></pre></div>
<pre><code>## [1] 60</code></pre>
<p>Usually however, we want a whole row or column. We do that simply by leaving either the row or column entry blank like so:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="r-basics.html#cb19-1" tabindex="-1"></a><span class="co"># 5th column of the data</span></span>
<span id="cb19-2"><a href="r-basics.html#cb19-2" tabindex="-1"></a>nurses[ , <span class="dv">5</span>]</span></code></pre></div>
<pre><code>##    [1] 36 45 32 57 46 60 23 32 60 45 57 47 32 42 42 53 60 33 64 37 23 61 58 52 28 52 43 64 47 62 39 46
##   [33] 58 34 41 56 39 60 57 50 29 57 51 25 27 53 42 43 24 48 60 27 61 33 47 50 38 28 33 52 53 31 27 57
##   [65] 47 41 64 45 42 25 34 36 55 33 51 60 24 31 58 60 29 24 24 46 43 24 45 64 25 55 42 58 64 47 25 50
##   [97] 42 60 33 51 27 43 45 53 53 37 25 32 46 57 27 55 51 24 56 31 46 57 42 53 48 25 37 47 29 41 31 52
##  [129] 36 39 62 42 51 29 25 50 23 60 43 43 27 28 36 60 64 64 61 27 32 28 64 55 46 45 23 55 60 39 24 61
##  [161] 28 34 34 25 39 64 60 58 58 32 41 61 47 60 56 47 31 47 51 61 50 37 23 56 45 23 48 46 64 47 56 51
##  [193] 28 61 41 37 25 25 50 64 38 39 43 28 33 39 46 25 52 45 52 33 25 36 50 57 43 53 62 60 62 33 33 27
##  [225] 61 23 38 64 64 57 25 56 43 45 23 46 37 31 29 37 61 43 39 29 52 58 34 57 37 56 32 29 29 32 25 36
##  [257] 45 58 52 42 31 37 47 31 38 58 31 41 62 62 24 28 58 56 50 51 24 28 43 45 61 45 41 31 32 24 57 41
##  [289] 58 56 51 45 32 55 53 41 47 41 28 62 34 41 31 57 60 29 46 27 50 45 34 45 39 43 28 55 32 38 36 29
##  [321] 48 31 37 58 31 46 60 46 57 50 64 24 37 36 58 64 34 47 43 39 43 27 27 55 61 37 36 32 47 27 42 55
##  [353] 45 23 58 60 58 33 50 47 23 53 27 53 37 53 52 39 48 64 42 31 34 41 47 48 29 51 48 61 23 61 50 39
##  [385] 37 47 24 47 23 36 41 55 56 37 39 24 56 60 42 29 39 61 37 24 31 36 47 64 47 31 55 34 29 42 42 56
##  [417] 57 29 33 39 62 60 56 47 34 39 50 38 50 25 34 39 42 42 39 56 56 31 58 43 58 37 25 57 52 36 24 42
##  [449] 60 56 55 31 32 42 32 32 57 61 41 46 51 31 56 42 45 39 46 36 42 41 37 52 42 57 62 32 56 48 33 34
##  [481] 61 24 31 46 27 42 62 57 31 34 57 53 47 34 47 31 25 57 47 61 27 53 34 64 34 55 43 29 45 27 47 58
##  [513] 45 64 55 32 29 29 48 45 43 23 60 39 45 36 45 36 42 37 41 64 58 62 32 33 25 60 38 48 45 56 46 45
##  [545] 37 57 62 24 61 51 33 60 36 52 56 46 50 32 45 28 51 38 55 45 32 43 24 47 47 45 52 45 62 48 50 46
##  [577] 61 58 51 33 24 60 43 57 33 62 61 47 60 27 24 31 55 53 23 25 27 45 52 25 37 50 41 28 50 52 23 28
##  [609] 24 37 56 58 36 58 41 51 34 58 37 25 45 58 28 43 38 38 37 61 64 47 39 45 34 34 52 33 50 45 31 53
##  [641] 28 50 58 39 42 28 43 64 47 29 56 23 28 43 60 62 34 36 51 53 58 57 23 23 36 39 33 45 50 34 64 31
##  [673] 61 48 34 58 42 51 28 64 58 37 43 33 62 39 55 43 61 52 45 57 32 32 34 32 56 57 61 23 24 42 24 57
##  [705] 27 51 58 29 42 43 32 51 47 62 61 47 37 23 27 55 25 43 52 25 50 50 58 34 43 46 42 51 46 25 29 48
##  [737] 53 29 51 62 29 46 48 37 25 38 24 27 45 41 38 57 45 57 25 43 45 38 46 46 41 45 37 53 39 51 32 25
##  [769] 23 41 55 24 55 50 62 46 48 53 56 46 56 29 36 31 53 52 47 56 25 56 61 64 41 56 37 36 41 25 62 27
##  [801] 29 36 58 46 37 32 64 52 31 52 47 39 45 53 51 50 34 48 32 38 34 62 31 50 47 27 61 48 64 28 36 51
##  [833] 55 31 28 33 38 45 28 38 46 57 42 31 37 57 42 42 60 33 48 24 37 37 28 34 33 50 31 29 61 58 48 25
##  [865] 34 27 23 58 48 50 45 51 53 25 50 29 64 36 56 34 61 34 58 60 39 24 34 48 28 34 42 46 38 31 24 56
##  [897] 23 50 27 60 23 25 24 37 56 42 39 29 64 50 36 46 56 31 56 64 47 32 41 41 34 37 48 62 38 24 25 36
##  [929] 23 24 60 41 28 58 24 34 33 55 43 57 31 23 37 55 58 55 47 47 28 33 32 52 34 56 42 29 28 55 37 47
##  [961] 48 31 25 47 51 34 62 39 46 38 36 25 42 36 32 42 36 51 52 31 25 41 29 23 23 38 28 62 45 60 34 41
##  [993] 27 39 33 56 29 32 34 58</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="r-basics.html#cb21-1" tabindex="-1"></a><span class="co"># 6th row of the data</span></span>
<span id="cb21-2"><a href="r-basics.html#cb21-2" tabindex="-1"></a>nurses[<span class="dv">6</span>, ]</span></code></pre></div>
<pre><code>##   hospital ward wardid nurse age gender experien stress     wardtype hospsize     expcon     Zage
## 6        1    1     11     6  60 female       22      6 general care    large experiment 1.411358
##    Zgender Zexperien  Zstress Zwardtype Zhospsize   Zexpcon Cexpcon Chospsize
## 6 0.600153 0.8180786 1.044405 -1.001501  1.777279 0.9915356     0.5         1</code></pre>
<p>If we want multiple rows or columns, we give a range or use a vector to name the columns: (note, I’m using the <code>head</code> command so that only 6 rows appear on the screen)</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="r-basics.html#cb23-1" tabindex="-1"></a><span class="fu">head</span>(nurses[, <span class="dv">5</span><span class="sc">:</span><span class="dv">7</span>])</span></code></pre></div>
<pre><code>##   age gender experien
## 1  36   male       11
## 2  45   male       20
## 3  32   male        7
## 4  57 female       25
## 5  46 female       22
## 6  60 female       22</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="r-basics.html#cb25-1" tabindex="-1"></a><span class="fu">head</span>(nurses[, <span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">8</span>)])</span></code></pre></div>
<pre><code>##   age stress
## 1  36      7
## 2  45      7
## 3  32      7
## 4  57      6
## 5  46      6
## 6  60      6</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="r-basics.html#cb27-1" tabindex="-1"></a><span class="fu">head</span>(nurses[, <span class="fu">c</span>(<span class="st">&quot;age&quot;</span>,<span class="st">&quot;hospsize&quot;</span>)])</span></code></pre></div>
<pre><code>##   age hospsize
## 1  36    large
## 2  45    large
## 3  32    large
## 4  57    large
## 5  46    large
## 6  60    large</code></pre>
</div>
</div>
</div>
<div id="frequencies-and-contingency-tables" class="section level2 hasAnchor" number="1.7">
<h2><span class="header-section-number">1.7</span> Frequencies and Contingency Tables<a href="r-basics.html#frequencies-and-contingency-tables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>One of the most basic tasks of a statistician is to count stuff! Indeed, when we have categorical variables, that’s the only way we can summarize them. R has two basic functions for doing so, <code>table</code> and <code>xtabs</code>. Both can return counts of the number of cases in various categories, but <code>xtabs</code> is built specifically for cross-tabulation. They do not compute percentages, though. You need one more step that I’ll show you now.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="r-basics.html#cb29-1" tabindex="-1"></a><span class="do">## Single variable using table</span></span>
<span id="cb29-2"><a href="r-basics.html#cb29-2" tabindex="-1"></a><span class="fu">table</span>(nurses<span class="sc">$</span>gender)</span></code></pre></div>
<pre><code>## 
##   male female 
##    265    735</code></pre>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="r-basics.html#cb31-1" tabindex="-1"></a><span class="do">## Single Variable using xtabs</span></span>
<span id="cb31-2"><a href="r-basics.html#cb31-2" tabindex="-1"></a><span class="fu">xtabs</span>(<span class="sc">~</span> gender, <span class="at">data =</span> nurses)</span></code></pre></div>
<pre><code>## gender
##   male female 
##    265    735</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="r-basics.html#cb33-1" tabindex="-1"></a><span class="do">## Cross tabulate</span></span>
<span id="cb33-2"><a href="r-basics.html#cb33-2" tabindex="-1"></a><span class="fu">xtabs</span>(<span class="sc">~</span> gender <span class="sc">+</span> wardtype, <span class="at">data =</span> nurses)</span></code></pre></div>
<pre><code>##         wardtype
## gender   general care special care
##   male            134          131
##   female          365          370</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="r-basics.html#cb35-1" tabindex="-1"></a><span class="do">### Create a table and get proportions</span></span>
<span id="cb35-2"><a href="r-basics.html#cb35-2" tabindex="-1"></a>gentab <span class="ot">&lt;-</span> <span class="fu">xtabs</span>(<span class="sc">~</span> gender <span class="sc">+</span> wardtype, <span class="at">data =</span> nurses)</span>
<span id="cb35-3"><a href="r-basics.html#cb35-3" tabindex="-1"></a></span>
<span id="cb35-4"><a href="r-basics.html#cb35-4" tabindex="-1"></a><span class="co"># cell percentages... joint probability</span></span>
<span id="cb35-5"><a href="r-basics.html#cb35-5" tabindex="-1"></a><span class="fu">prop.table</span>(gentab)</span></code></pre></div>
<pre><code>##         wardtype
## gender   general care special care
##   male          0.134        0.131
##   female        0.365        0.370</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="r-basics.html#cb37-1" tabindex="-1"></a><span class="co"># conditioning on gender, what is the percent of each ward type</span></span>
<span id="cb37-2"><a href="r-basics.html#cb37-2" tabindex="-1"></a><span class="fu">prop.table</span>(gentab, <span class="at">margin =</span> <span class="dv">1</span>)</span></code></pre></div>
<pre><code>##         wardtype
## gender   general care special care
##   male      0.5056604    0.4943396
##   female    0.4965986    0.5034014</code></pre>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="r-basics.html#cb39-1" tabindex="-1"></a><span class="co"># conditioning on ward type, what is the percent of each gender</span></span>
<span id="cb39-2"><a href="r-basics.html#cb39-2" tabindex="-1"></a><span class="fu">prop.table</span>(gentab, <span class="at">margin =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>##         wardtype
## gender   general care special care
##   male      0.2685371    0.2614770
##   female    0.7314629    0.7385230</code></pre>
</div>
<div id="descriptive-statistics" class="section level2 hasAnchor" number="1.8">
<h2><span class="header-section-number">1.8</span> Descriptive statistics<a href="r-basics.html#descriptive-statistics" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Like everything else, there are many options for summarizing a bunch of variables. Here we’ll check one out from the <code>psych</code> package. For more on this type <code>?psych</code> in the console. Actually do it! If successful, you’ll see the help page for <code>psych</code> come up in one of your panes. In that window, click on <code>describe</code> it will be underlined in the 3rd line of the text.</p>
<div id="the-describe-function" class="section level3 hasAnchor" number="1.8.1">
<h3><span class="header-section-number">1.8.1</span> The describe function<a href="r-basics.html#the-describe-function" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We’re going to use this function now. Note that in the “Usage” section of the help document, there’s lots of options for the <code>describe</code> function. They’re all default, so the only thing we need to do is simply specify what <code>x</code> is.</p>
<p>As with <code>foreign</code> the <code>psych</code> package needs to be loaded with the <code>library()</code> command. In practice, it’s best to put all of your <code>library()</code> commands at the top of your script and load them simultaneously. That’s because you only need to load a library / package one time per R session.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="r-basics.html#cb41-1" tabindex="-1"></a><span class="fu">library</span>(psych)</span>
<span id="cb41-2"><a href="r-basics.html#cb41-2" tabindex="-1"></a><span class="co"># use the describe function from psych on nurses</span></span>
<span id="cb41-3"><a href="r-basics.html#cb41-3" tabindex="-1"></a></span>
<span id="cb41-4"><a href="r-basics.html#cb41-4" tabindex="-1"></a><span class="co"># name the columns you want</span></span>
<span id="cb41-5"><a href="r-basics.html#cb41-5" tabindex="-1"></a><span class="fu">describe</span>(nurses[ , <span class="fu">c</span>(<span class="st">&quot;age&quot;</span>,<span class="st">&quot;experien&quot;</span>,<span class="st">&quot;stress&quot;</span>) ])</span></code></pre></div>
<pre><code>##          vars    n  mean    sd median trimmed   mad min max range  skew kurtosis   se
## age         1 1000 43.01 12.04     43   42.98 14.83  23  64    41  0.03    -1.18 0.38
## experien    2 1000 17.06  6.04     17   17.06  5.93   1  38    37  0.03    -0.39 0.19
## stress      3 1000  4.98  0.98      5    5.03  1.48   1   7     6 -0.45     0.25 0.03</code></pre>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="r-basics.html#cb43-1" tabindex="-1"></a><span class="co"># use column numbers</span></span>
<span id="cb43-2"><a href="r-basics.html#cb43-2" tabindex="-1"></a><span class="fu">describe</span>(nurses[, <span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">7</span>,<span class="dv">8</span>)])</span></code></pre></div>
<pre><code>##          vars    n  mean    sd median trimmed   mad min max range  skew kurtosis   se
## age         1 1000 43.01 12.04     43   42.98 14.83  23  64    41  0.03    -1.18 0.38
## experien    2 1000 17.06  6.04     17   17.06  5.93   1  38    37  0.03    -0.39 0.19
## stress      3 1000  4.98  0.98      5    5.03  1.48   1   7     6 -0.45     0.25 0.03</code></pre>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="r-basics.html#cb45-1" tabindex="-1"></a><span class="co"># use columns 5 through 10</span></span>
<span id="cb45-2"><a href="r-basics.html#cb45-2" tabindex="-1"></a><span class="fu">describe</span>(nurses[ , <span class="dv">5</span><span class="sc">:</span><span class="dv">10</span>])</span></code></pre></div>
<pre><code>##           vars    n  mean    sd median trimmed   mad min max range  skew kurtosis   se
## age          1 1000 43.01 12.04     43   42.98 14.83  23  64    41  0.03    -1.18 0.38
## gender*      2 1000  1.73  0.44      2    1.79  0.00   1   2     1 -1.06    -0.87 0.01
## experien     3 1000 17.06  6.04     17   17.06  5.93   1  38    37  0.03    -0.39 0.19
## stress       4 1000  4.98  0.98      5    5.03  1.48   1   7     6 -0.45     0.25 0.03
## wardtype*    5 1000  1.50  0.50      2    1.50  0.00   1   2     1  0.00    -2.00 0.02
## hospsize*    6 1000  1.78  0.69      2    1.72  1.48   1   3     2  0.32    -0.90 0.02</code></pre>
<p>The column labels are pretty self explanatory, but your view in R studio may be different. For the most part, running something in the Script window will send output to the Console.</p>
</div>
<div id="the-describeby-function" class="section level3 hasAnchor" number="1.8.2">
<h3><span class="header-section-number">1.8.2</span> The describeBy function<a href="r-basics.html#the-describeby-function" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Often we want to compute descriptive statistics for different groups. To do so, we use the <code>describeBy</code> function, also in the <code>psych</code> package. It works the same as <code>describe</code> but now we have to give it a grouping variable. We do this using the <code>group</code> argument. Don’t forget, you have to use the <code>$</code> operator.</p>
<p>The grouping variable is converted to a factor, even if it is numeric. We can also analyze several variables per group at a time. Let’s look at age, experience, and stress by gender and then by ward type. Do you notice any differences between male and female nurses? They’re subtle, but one important one is the number of males and females.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="r-basics.html#cb47-1" tabindex="-1"></a><span class="do">## outcomes by gender</span></span>
<span id="cb47-2"><a href="r-basics.html#cb47-2" tabindex="-1"></a></span>
<span id="cb47-3"><a href="r-basics.html#cb47-3" tabindex="-1"></a><span class="fu">describeBy</span>(nurses[, <span class="fu">c</span>(<span class="st">&quot;age&quot;</span>,<span class="st">&quot;experien&quot;</span>,<span class="st">&quot;stress&quot;</span>)], <span class="at">group =</span> nurses<span class="sc">$</span>gender)</span></code></pre></div>
<pre><code>## 
##  Descriptive statistics by group 
## group: male
##          vars   n  mean    sd median trimmed   mad min max range  skew kurtosis   se
## age         1 265 43.55 11.80     43   43.59 14.83  23  64    41  0.01    -1.14 0.72
## experien    2 265 17.49  6.19     17   17.44  5.93   4  38    34  0.15    -0.41 0.38
## stress      3 265  5.32  0.93      5    5.35  1.48   3   7     4 -0.34     0.01 0.06
## ----------------------------------------------------------------------------- 
## group: female
##          vars   n  mean    sd median trimmed   mad min max range  skew kurtosis   se
## age         1 735 42.81 12.13     43   42.75 14.83  23  64    41  0.03    -1.20 0.45
## experien    2 735 16.90  5.98     17   16.91  5.93   1  36    35 -0.02    -0.42 0.22
## stress      3 735  4.85  0.97      5    4.92  1.48   1   7     6 -0.50     0.26 0.04</code></pre>
<p>Now let’s look across ward type (general care and special care). See any differences here?</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="r-basics.html#cb49-1" tabindex="-1"></a><span class="do">## outcomes by ward type</span></span>
<span id="cb49-2"><a href="r-basics.html#cb49-2" tabindex="-1"></a></span>
<span id="cb49-3"><a href="r-basics.html#cb49-3" tabindex="-1"></a><span class="fu">describeBy</span>(nurses[, <span class="fu">c</span>(<span class="st">&quot;age&quot;</span>,<span class="st">&quot;experien&quot;</span>,<span class="st">&quot;stress&quot;</span>)], <span class="at">group =</span> nurses<span class="sc">$</span>wardtype)</span></code></pre></div>
<pre><code>## 
##  Descriptive statistics by group 
## group: general care
##          vars   n  mean    sd median trimmed   mad min max range  skew kurtosis   se
## age         1 499 42.99 12.28     42   42.97 14.83  23  64    41  0.05    -1.22 0.55
## experien    2 499 17.16  6.35     17   17.05  5.93   3  38    35  0.16    -0.42 0.28
## stress      3 499  4.94  1.05      5    4.99  1.48   1   7     6 -0.41     0.17 0.05
## ----------------------------------------------------------------------------- 
## group: special care
##          vars   n  mean    sd median trimmed   mad min max range  skew kurtosis   se
## age         1 501 43.02 11.81     43   43.01 14.83  23  64    41  0.00    -1.14 0.53
## experien    2 501 16.95  5.73     17   17.07  5.93   1  32    31 -0.14    -0.46 0.26
## stress      3 501  5.02  0.91      5    5.08  1.48   2   7     5 -0.45     0.16 0.04</code></pre>
</div>
<div id="computing-a-new-variable-and-adding-it-to-the-dataframe" class="section level3 hasAnchor" number="1.8.3">
<h3><span class="header-section-number">1.8.3</span> Computing a new variable and adding it to the dataframe<a href="r-basics.html#computing-a-new-variable-and-adding-it-to-the-dataframe" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Finally, let’s see how to make a new variable and add it to the data frame. We do this by using the <code>$</code> and naming a new variable on the fly. Here I’m going make a new composite variable which is just age times experience. I’m naming it <code>composite</code> but I can call it anything I want, as long as it’s not already a variable, it doesn’t begin with a number, and it has no spaces (underscores and periods are ok).</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="r-basics.html#cb51-1" tabindex="-1"></a>nurses<span class="sc">$</span>composite <span class="ot">&lt;-</span> nurses<span class="sc">$</span>age <span class="sc">*</span> nurses<span class="sc">$</span>experien</span></code></pre></div>
<p>This data set also has Z scores for a number of variables. Let’s get fancy and see if we can re-make them by computing our own Z-scores for age. They should be the same as what’s there.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="r-basics.html#cb52-1" tabindex="-1"></a>nurses<span class="sc">$</span>Zage2 <span class="ot">&lt;-</span> (nurses<span class="sc">$</span>age <span class="sc">-</span> <span class="fu">mean</span>(nurses<span class="sc">$</span>age)) <span class="sc">/</span> <span class="fu">sd</span>(nurses<span class="sc">$</span>age)</span>
<span id="cb52-2"><a href="r-basics.html#cb52-2" tabindex="-1"></a></span>
<span id="cb52-3"><a href="r-basics.html#cb52-3" tabindex="-1"></a><span class="fu">head</span>(nurses[, <span class="fu">c</span>(<span class="st">&quot;Zage&quot;</span>,<span class="st">&quot;Zage2&quot;</span>)])</span></code></pre></div>
<pre><code>##         Zage      Zage2
## 1 -0.5817336 -0.5817336
## 2  0.1656757  0.1656757
## 3 -0.9139156 -0.9139156
## 4  1.1622216  1.1622216
## 5  0.2487212  0.2487212
## 6  1.4113581  1.4113581</code></pre>
<p>Notice the liberal use of parenthesis. R respects order of operations very literally, so when doing computations like this, it is important to check your work.</p>
<p>Here’s one more, a log transformation</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="r-basics.html#cb54-1" tabindex="-1"></a>nurses<span class="sc">$</span>logAge <span class="ot">&lt;-</span> <span class="fu">log</span>(nurses<span class="sc">$</span>age)</span></code></pre></div>
</div>
</div>
<div id="visualizing-data" class="section level2 hasAnchor" number="1.9">
<h2><span class="header-section-number">1.9</span> Visualizing Data<a href="r-basics.html#visualizing-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>One place where R really excels is with data visualization. We will only scratch the surface here. There is much more you can learn in <a href="https://r4ds.hadley.nz/">Hadley Wickham’s book</a>.</p>
<div id="histograms-and-density-plots" class="section level3 hasAnchor" number="1.9.1">
<h3><span class="header-section-number">1.9.1</span> Histograms and density plots<a href="r-basics.html#histograms-and-density-plots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>For right now, we’ll use the base-R commands as well as similar ones from <a href="https://www.john-fox.ca/Companion/">John Fox’s</a> <code>car</code> package. Let’s first look at histograms for age, experience, and stress:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="r-basics.html#cb55-1" tabindex="-1"></a><span class="co"># using base R</span></span>
<span id="cb55-2"><a href="r-basics.html#cb55-2" tabindex="-1"></a><span class="fu">hist</span>(nurses<span class="sc">$</span>age)</span></code></pre></div>
<p><img src="_main_files/figure-html/histogram-1.png" width="672" /></p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="r-basics.html#cb56-1" tabindex="-1"></a><span class="fu">hist</span>(nurses<span class="sc">$</span>experien)</span></code></pre></div>
<p><img src="_main_files/figure-html/histogram-2.png" width="672" /></p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="r-basics.html#cb57-1" tabindex="-1"></a><span class="fu">hist</span>(nurses<span class="sc">$</span>stress)</span></code></pre></div>
<p><img src="_main_files/figure-html/histogram-3.png" width="672" /></p>
<p>Now we’ll create density plots, which are smoothed histograms. This helps us infer the shape of the distribution, but can be misleading for discrete data. The cool thing here is that we can make plots for different groups. To do so, we’ll use the formula interface that’s common to more advanced R code. It uses the tilde <code>~</code>.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="r-basics.html#cb58-1" tabindex="-1"></a><span class="do">## load car</span></span>
<span id="cb58-2"><a href="r-basics.html#cb58-2" tabindex="-1"></a><span class="fu">library</span>(car)</span>
<span id="cb58-3"><a href="r-basics.html#cb58-3" tabindex="-1"></a></span>
<span id="cb58-4"><a href="r-basics.html#cb58-4" tabindex="-1"></a><span class="co"># all nurses</span></span>
<span id="cb58-5"><a href="r-basics.html#cb58-5" tabindex="-1"></a><span class="fu">densityPlot</span>(<span class="sc">~</span> experien, <span class="at">data =</span> nurses)</span></code></pre></div>
<p><img src="_main_files/figure-html/density-1.png" width="672" /></p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="r-basics.html#cb59-1" tabindex="-1"></a><span class="co"># by ward type</span></span>
<span id="cb59-2"><a href="r-basics.html#cb59-2" tabindex="-1"></a><span class="fu">densityPlot</span>(experien <span class="sc">~</span> wardtype, <span class="at">data =</span> nurses)</span></code></pre></div>
<p><img src="_main_files/figure-html/density-2.png" width="672" /></p>
</div>
<div id="boxplots" class="section level3 hasAnchor" number="1.9.2">
<h3><span class="header-section-number">1.9.2</span> Boxplots<a href="r-basics.html#boxplots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Boxplots are useful for detecting outliers and comparing distributions that might have very different shapes. The box is the middle 50% of the data (stretching from the 25th percentile to the 75th), the “whiskers” extend out to the value that is 1.5 times the inter-quartile range, but sometimes to the min and max values. In the former situation, circles outside of the whiskers denote outliers. There is no single agreed upon definition of outlier, but the Boxplots here use Tukey’s definition, which is the one using the IQR.</p>
<p>Also, there is a base R version of boxplot, and <code>Boxplot</code>, a function from the <code>car</code> package that prints the rows containing the outliers (if any) to the console. Again, we use the formula interface to see boxplots for different groups</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="r-basics.html#cb60-1" tabindex="-1"></a><span class="co"># regular boxplot</span></span>
<span id="cb60-2"><a href="r-basics.html#cb60-2" tabindex="-1"></a><span class="fu">boxplot</span>(nurses<span class="sc">$</span>experien)</span></code></pre></div>
<p><img src="_main_files/figure-html/boxplots-1.png" width="672" /></p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="r-basics.html#cb61-1" tabindex="-1"></a><span class="fu">boxplot</span>(experien <span class="sc">~</span> wardtype, <span class="at">data =</span> nurses)</span></code></pre></div>
<p><img src="_main_files/figure-html/boxplots-2.png" width="672" /></p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="r-basics.html#cb62-1" tabindex="-1"></a><span class="co"># boxplot printing the outlier cases</span></span>
<span id="cb62-2"><a href="r-basics.html#cb62-2" tabindex="-1"></a><span class="fu">Boxplot</span>(nurses<span class="sc">$</span>experien)</span></code></pre></div>
<p><img src="_main_files/figure-html/boxplots-3.png" width="672" /></p>
<pre><code>## [1] 586 916</code></pre>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="r-basics.html#cb64-1" tabindex="-1"></a><span class="fu">Boxplot</span>(experien <span class="sc">~</span> wardtype, <span class="at">data =</span> nurses)</span></code></pre></div>
<p><img src="_main_files/figure-html/boxplots-4.png" width="672" /></p>
<pre><code>## [1] &quot;586&quot; &quot;916&quot;</code></pre>
</div>
<div id="scatterplots" class="section level3 hasAnchor" number="1.9.3">
<h3><span class="header-section-number">1.9.3</span> Scatterplots<a href="r-basics.html#scatterplots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The last kind of visualization we often want is a scatterplot. Again, there are many options and we’ll look at two of them. R’s generic <code>plot</code> function is very flexible, but also requires a lot to make look good. That’s why there are many alternatives that we’ll see later in the course. Here, we’ll again contrast with one of the functions from the <code>car</code> package. Let’s see if age and experience are linearly related:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="r-basics.html#cb66-1" tabindex="-1"></a><span class="fu">plot</span>(nurses<span class="sc">$</span>age, nurses<span class="sc">$</span>experien)</span></code></pre></div>
<p><img src="_main_files/figure-html/scatter-1.png" width="672" /></p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="r-basics.html#cb67-1" tabindex="-1"></a><span class="fu">scatterplot</span>(experien <span class="sc">~</span> age, <span class="at">data =</span> nurses)</span></code></pre></div>
<p><img src="_main_files/figure-html/scatter-2.png" width="672" /></p>
</div>
</div>
<div id="review" class="section level2 hasAnchor" number="1.10">
<h2><span class="header-section-number">1.10</span> Review<a href="r-basics.html#review" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Wow that was a lot. Our objectives were:</p>
<ul>
<li>Overcome any fear about learning to “code”</li>
<li>Learn about data structures in R
<ul>
<li>Type data into R (not fun!)</li>
<li>Import data to R from SPSS</li>
<li>Import data from Excel</li>
</ul></li>
<li>Using the psych package</li>
<li>Transforming / computing variables</li>
<li>Visualizing data</li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="ordinary-linear-regression.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": null,
    "text": null
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": null,
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "subsection"
  }
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
